{"is_source_file": true, "format": "JavaScript", "description": "This file implements a note data store for a frontend application. It provides CRUD operations, persistence via localStorage, note normalization, sorting, filtering, and tag management functionalities.", "external_files": ["localStorage", "crypto"], "external_methods": ["localStorage.getItem", "localStorage.setItem", "crypto.randomUUID"], "published": ["createNote", "getNote", "updateNote", "deleteNote", "toggleFavorite", "listNotes", "listTags"], "classes": [], "methods": [{"name": "readStore()", "description": "Reads and parses the notes data from localStorage safely, returns an object with notes array.", "scope": "", "scopeKind": ""}, {"name": "writeStore(store)", "description": "Serializes and saves the notes store object back to localStorage.", "scope": "", "scopeKind": ""}, {"name": "uid()", "description": "Generates a unique ID string for notes, using crypto.randomUUID if available.", "scope": "", "scopeKind": ""}, {"name": "normalizeNote(n = {})", "description": "Normalizes a note object, ensuring required fields are set and unique, with consistent format.", "scope": "", "scopeKind": ""}, {"name": "sortNotes(notes)", "description": "Sorts notes by updatedAt descending and title ascending.", "scope": "", "scopeKind": ""}, {"name": "upsert(note)", "description": "Inserts or updates a note into the store, saving changes to localStorage.", "scope": "", "scopeKind": ""}, {"name": "createNote(initial = {})", "description": "Creates a new note with optional initial fields and persists it.", "scope": "", "scopeKind": ""}, {"name": "getNote(id)", "description": "Retrieves a note by its id.", "scope": "", "scopeKind": ""}, {"name": "updateNote(id, fields = {})", "description": "Updates fields of an existing note identified by id and saves changes.", "scope": "", "scopeKind": ""}, {"name": "deleteNote(id)", "description": "Deletes a note by id from the store.", "scope": "", "scopeKind": ""}, {"name": "toggleFavorite(id)", "description": "Toggles the favorite status of a note.", "scope": "", "scopeKind": ""}, {"name": "listNotes(options = {})", "description": "Lists notes filtered by tag, favorites, or search query, and sorts them.", "scope": "", "scopeKind": ""}, {"name": "listTags()", "description": "Returns all tags with their counts.", "scope": "", "scopeKind": ""}], "calls": ["localStorage.getItem", "localStorage.setItem", "JSON.parse", "JSON.stringify", "Array.isArray", "new Date()", "new Date().toISOString", "crypto.randomUUID"], "search-terms": ["localStorage", "persisted notes", "note CRUD", "tag filtering", "favorites", "notes data store"], "state": 2, "file_id": 10, "knowledge_revision": 22, "git_revision": "", "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-157376-157385/notes_frontend/src/store.js", "pattern": "/^const STORAGE_KEY = 'notes_app_v1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-157376-157385/notes_frontend/src/store.js", "pattern": "/^export function createNote(initial = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(initial = {})"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-157376-157385/notes_frontend/src/store.js", "pattern": "/^export function deleteNote(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getNote", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-157376-157385/notes_frontend/src/store.js", "pattern": "/^export function getNote(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "listNotes", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-157376-157385/notes_frontend/src/store.js", "pattern": "/^export function listNotes(options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(options = {})"}, {"_type": "tag", "name": "listTags", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-157376-157385/notes_frontend/src/store.js", "pattern": "/^export function listTags() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "normalizeNote", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-157376-157385/notes_frontend/src/store.js", "pattern": "/^function normalizeNote(n = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(n = {})"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-157376-157385/notes_frontend/src/store.js", "pattern": "/^    notes: Array.isArray(store.notes) ? store.notes : [],$/", "language": "JavaScript", "kind": "property", "scope": "writeStore.safe", "scopeKind": "class"}, {"_type": "tag", "name": "readStore", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-157376-157385/notes_frontend/src/store.js", "pattern": "/^function readStore() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "safe", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-157376-157385/notes_frontend/src/store.js", "pattern": "/^  const safe = {$/", "language": "JavaScript", "kind": "class", "scope": "writeStore", "scopeKind": "class"}, {"_type": "tag", "name": "sortNotes", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-157376-157385/notes_frontend/src/store.js", "pattern": "/^function sortNotes(notes) {$/", "language": "JavaScript", "kind": "function", "signature": "(notes)"}, {"_type": "tag", "name": "toggleFavorite", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-157376-157385/notes_frontend/src/store.js", "pattern": "/^export function toggleFavorite(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "uid", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-157376-157385/notes_frontend/src/store.js", "pattern": "/^function uid() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-157376-157385/notes_frontend/src/store.js", "pattern": "/^export function updateNote(id, fields = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, fields = {})"}, {"_type": "tag", "name": "upsert", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-157376-157385/notes_frontend/src/store.js", "pattern": "/^function upsert(note) {$/", "language": "JavaScript", "kind": "function", "signature": "(note)"}, {"_type": "tag", "name": "writeStore", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-157376-157385/notes_frontend/src/store.js", "pattern": "/^function writeStore(store) {$/", "language": "JavaScript", "kind": "function", "signature": "(store)"}], "hash": "c7e08675e82ccd87c741cfc31f692a32", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/store.js", "fields": [{"name": "notes: Array.isArray(store.notes) ? store.notes : [],", "scope": "writeStore.safe", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"22": ""}]}